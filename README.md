# maker
在FMEX里的一个做市解锁策略

一、注意事项：
1. 使用本程序需自己把控风险，不能保证稳赚不赔。虽然本人尽可能的优化和改进程序，但是不能完全排除程序有可能会出现宕机、下单不及时、撤单不及时、撤单成功、下单出错等异常情况，也不能保证策略就是赚钱的，导致的亏损本人概不负责。需要自己多盯着，多留心，多关注。必须接受这点才能使用本程序。

2.本程序免费使用，但是使用前需将用户名和API的最后8位发给我授权使用，可以私信我或者发我邮箱 admin@zuanqianla.cn

3. 该程序需要在Linux环境下运行，需要有一定的操作基础。建议注册AWS或者阿里云的spot竞价请求，选东京的，大概几毛钱一小时，且可随时关闭停止。

4. API申请的时候请务必绑定IP地址，如若因API导致泄密或者被盗，本人不负责。同时申请API的时候需勾选允许只读和允许交易。

5. 由于有很多账户相关的查询，建议单独用一个账号使用该程序，不要跟其他策略混合用。

6. 如果需要停止程序，请先终止daemon程序，再kill掉对应的maker进程。同时需要手动在网页上操作撤单平仓等动作。

二、简单说明：
程序有2个，1个是maker主程序，一个是daemon守护程序。将该压缩包解压放到/home/目录下，运行daemon程序既可自动运行。默认配置了一个程序（买卖各一个档位），如果需要排多个档位，需要多开，可以编辑daemon中的数字，改成需要的个数。同时配置对应编号的config文件。注意，每个maker进程必须单独放在一个目录里，并且不能重名。



三、关于功能和配置：

stop用于开启或者停止，=1停止并待机，=0程序开始工作

buy_enable，买使能，=1使能，=0，禁用

sell_enable，卖使能，=1使能，=0，禁用

usr_id，用户名

api, 仅填前面24位，保证安全。后面8位发给我

secret, API秘钥，如实填写

amount，单次挂单数量

offset, 偏移量，每个程序配置的不一样，这样就不会挤在一起去。允许负值，如果调不到盘口，可以试着为负值，但风险需要把握

range=1.5100，允许的上下波动范围，防止频繁撤单，建议挂的近调小点，挂的远调大点。后面多加0.01，防止精度问题出错

C=0.0200，一个安全系数，建议以0.02为基础，0.01为步进这样微调

S=0.5000，5分钟振幅系数，假设5分钟波动20美元，0.5的话就是10美元

sleep=5000, 如果单子被成交，到下一个挂单的延迟时间，单位毫秒，防止行情数据不及时或者方向判断出错，导致错误的快速大量下单

gap=20，允许偏离其他交易所的最大差值。防止深度太差，挂出天价买单和天价卖单导致大量亏损

stopmaker_max_amount=100000.0，超过这个持仓，不在下这个方向的挂单。只能大概，有可能由于获取资金慢了，导致超过这个阈值

autoclose_enable=0，自动平仓功能是否开启，=1将开启 =0不生效，注意，只有该参数的改变需要重启程序，其他参数的更改都不需要重启程序

autoclose_time=1800，自动平仓功能的时间上限。单位秒，有几秒钟的误差。

autoclose_max_amount=185000.0，自动平仓功能的持仓上限。自动平仓功能开启才生效，如果仓位连续autoclose_time大于这个值，将自动触发自动平仓。如果中途max_amount不符合，时间将复位重新计时。注意，这个值必须大于等于上面的stopmaker_max_amount参数,否则可能会有问题

autoclose_price=1，自动平仓的价格档位，+1买卖几档，如填1，卖的话就是直接卖到买2价，填10，直接卖到买11价，最大值19.
max_quantity=99999.0，自动平仓单次最大下单量

cancel_time=3601，挂单里的最长挂单时间，超过这个值将撤单，单位秒。5分钟轮询一次，可能会有5分钟误差。主要是撤单失败的补充。


[ADVANCED]里的建议不调整

min_amount=1.0000 最小下单数量

dt=9000，行情数据与当前系统时间的最大差值，单位毫秒

time_out=25，下单超时时间，单位秒

wdg_time=60，各线程死机看门狗时间，单位秒

ws_wdg_time=60 wss行情数据不更新看门狗时间，单位秒

